package common_msg;

//////////////////////////////////////////////
//错误码
//////////////////////////////////////////////
enum E_ERROR_CODE
{
//通用错误
	EEC_SUCCESS = 0;//成功
	EEC_ERROR = 1;//错误
	EEC_VALUE_INVALID = 2;//无效数值
	EEC_ITEM_INEXISTENT = 4;//不存在,道具
	EEC_USER_INEXISTENT = 5;//不存在,用户
	EEC_ROLE_EXISTENT_ROLE = 6;//存在,角色
	EEC_ACCOUNT_INEXISTENT = 7;//不存在,帐号
	EEC_APPROVED_NO = 8;//尚未通过身份校验
	EEC_EVENT_LIMIT = 9;//事件上限
	EEC_USER_LEVEL = 10;//用户等级
	EEC_MAP_INVALID = 13;//地图无效
	EEC_PASSWORD_ERROR = 14; //密码错误
	EEC_CHAT_LEN_MAX = 15; //聊天长度上限
	EEC_ITEM_CNT = 41; //道具不足

	EEC_ERROR_MYSQL = 9000;//数据库错误
	EEC_MAX = 10000;//错误最大值
}

enum USER_EVENT_TYPE
{
	//---------------------------------------------------------------------------- 
	//每日事件 DAILY_EVENT_XX
	DAILY_EVENT_BEGIN					= 100000;

	DAILY_EVENT_END						= 199999;
	//---------------------------------------------------------------------------- 

	//---------------------------------------------------------------------------- 
	//每周事件 WEEKLY_EVENT_XX
	WEEKLY_EVENT_BEGIN                  = 200000;
	WEEKLY_EVENT_END                    = 299999;
	//---------------------------------------------------------------------------- 


	//---------------------------------------------------------------------------- 
	//每月事件 MONTHLY_EVENT_XX
	MONTHLY_EVENT_BEGIN                 = 300000;
	MONTHLY_EVENT_END                   = 399999;
	//---------------------------------------------------------------------------- 


	//---------------------------------------------------------------------------- 
	//永久事件 FOREVER_EVENT_XX
	FOREVER_EVENT_BEGIN                 	= 400000;

	FOREVER_EVENT_END                   	= 499999;
	//---------------------------------------------------------------------------- 

	//----------------------------------------------------------------------------
	//过期事件 EXPRIE_EVENT_XX
	EXPRIE_EVENT_BEGIN						= 500000;
	EXPRIE_EVENT_END						= 599999;
	//---------------------------------------------------------------------------- 
}

//平台类型
enum E_PLATFORM
{
	E_PLATFORM_TEST = 0;//内网测试
}

//聊天类型
enum E_CHAT_TYPE
{
	E_CHAT_TYPE_PRIVATE = 0;//私聊
	E_CHAT_TYPE_MAP = 1;//本地图聊天
	E_CHAT_TYPE_ALL = 2;//全服聊天
}

//地图类型
enum E_MAP_TYPE
{
	E_MAP_TYPE_PRIVATE = 0;//私人地图
	E_MAP_TYPE_COMMON = 1;//通用地图
	E_MAP_TYPE_BTL = 2;//战斗地图
}

enum E_PRIVATE_MAP_POS_TYPE
{
	E_PRIVATE_MAP_POS_RESOURCE = 0;//资源
	E_PRIVATE_MAP_POS_MONSTER = 1;//怪物
	E_PRIVATE_MAP_POS_BOSS = 2;//BOSS
	E_PRIVATE_MAP_POS_ITEM = 3;//道具
	E_PRIVATE_MAP_POS_TOWER = 4;//塔
	E_PRIVATE_MAP_POS_GUARD_BOSS = 5;//守关boss
}

//坐骑状态
enum E_MOUNT_STATE
{
	E_MOUNT_STATE_UNUSED = 0;//闲置
	E_MOUNT_STATE_USED = 1;//使用中
}

//任务状态
enum E_TASK_STATE
{
	E_TASK_STATE_FINISH = 2000000001;//任务完成(任务的DATA数据)
	E_TASK_STATE_REWARD = 2000000002;//任务完成,并已发奖励(任务的DATA数据)
}

//任务主类型
enum E_TASK_MAIN_TYPE
{
	E_TASK_MAIN_THREAD = 0;//主线
	E_TASK_DAILY_TASK = 1;//日常
	E_TASK_REWARD_TASK = 2;//悬赏
};

//主类型任务范围
enum E_TASK_MAIN_RANGE
{
	E_TASK_MAIN_START = 1;
	E_TASK_MAIN_MAX = 10000;//主线任务最大值
	E_TASK_DAILY_START = 10001;
	E_TASK_DAILY_MAX = 20000;//日常任务最大值
	E_TASK_REWARD_START = 20001;
	E_TASK_REWARD_MAX = 30000;//悬赏任务最大值
};

//任务功能类型
enum E_TASK_FUNC_TYPE
{
	E_TASK_BUILDING = 1;//建造建筑
	E_TASK_KILL_APPOINT_MONSTER = 2;//杀怪
	E_TASK_KILL_TYPE_MONSTER = 3;//杀死某种属性怪物
	E_TASK_HAVA_TEN_LEVEL_HEROS = 4;


}

//邮件状态
enum E_MAIL_STATE
{
	E_MAIL_STATE_UNREAD = 0;//邮件未读
	E_MAIL_STATE_READ = 1;//邮件已读(可删)
	E_MAIL_STATE_READ2 = 2;//邮件已读(不可删)
}

//通用值
enum E_COMMON_VAL
{
	option allow_alias = true;
	E_COMMON_HERO_STAR_MAX = 5;//英雄星级最大值
	E_COMMON_USER_LINEUP_DATA_CNT = 16;//用户阵形在event中str_data中存储的uint32_t个数(lineup_id,hero[15])[x,x,...]
	E_COMMON_USER_LINEUP_HERO_CNT_MAX = 3;//用户阵形最大的英雄数量
	E_COMMON_PRIVATE_MAP_RESOURCES_CNT = 4;//私有地图资源点数量
	E_COMMON_FRIEND_APPLY_CNT = 10;//10;//好友申请上限数量
	E_COMMON_FRIEND_MAX_CNT = 100;//100;//好友上限数量
	E_COMMON_MAIL_ATTACHMENT_TYPE_MAX_CNT = 50;//邮件附件种类最大数量
	E_COMMON_MAIL_OUT_ID = 10001;//物品售出
	E_COMMON_MAIL_IN_ID = 10002;//物品买入
	E_COMMON_MAIL_BACK_ID = 10003;//物品下架
	E_COMMON_USER_SELL_TYPE_MAX_CNT = 8;//物品售卖格子上限数量
	E_COMMON_LINEUP_IDX_MAX = 6;//随身阵容最大数量
	E_COMMON_USER_SELL_PRICE_MAX = 1000000000;//总价最大值
	E_COMMON_USER_SELL_MAIL_ID_BEGIN = 10001;//拍卖行邮件开始
	E_COMMON_USER_SELL_MAIL_ID_END = 19999;//拍卖行邮件结束

	E_COMMON_HERO_ADD_STAR_EXP_EQUAL = 150;//给英雄加星经验,相同属性
	E_COMMON_HERO_ADD_STAR_EXP_UNEQUAL = 100;//给英雄加星经验,不同属性
}

//装备位置
//1 武器
//2 衣服
//3 裤子
//4 饰品
//5 法宝
enum E_EQUIPMENT_POSITION
{
	E_EQUIPMENT_POSITION_1 = 1;//武器
	E_EQUIPMENT_POSITION_2 = 2;//衣服
	E_EQUIPMENT_POSITION_3 = 3;//裤子
	E_EQUIPMENT_POSITION_4 = 4;//饰品
	E_EQUIPMENT_POSITION_5 = 5;//法宝
}

//[1-5 白兰紫橙绿]
enum E_EQUIPMENT_QUALITY
{
	E_EQUIPMENT_QUALITY_1 = 1;//白
	E_EQUIPMENT_QUALITY_2 = 2;//兰
	E_EQUIPMENT_QUALITY_3 = 3;//兰
	E_EQUIPMENT_QUALITY_4 = 4;//橙
	E_EQUIPMENT_QUALITY_5 = 5;//绿
}

enum E_NPC_TYPE
{
	E_NPC_HERO = 1;//英雄
	E_NPC_SOLDIER = 2;//士兵
	E_NPC_MONSTER = 3;//怪物
}

//建筑物
//1 议事厅
//2 兵营

enum E_BUILDING
{
	E_BUILDING_BEGIN = 0;//开始
	E_BUILDING_HALL = 1;//议事厅
	E_BUILDING_BARRACKS = 2;//兵营
	E_BUILDING_SKY = 3;//天工局(已经废除)
	E_BUILDING_GRANARY = 4;//粮仓
	E_BUILDING_BAR = 5;//酒吧
	E_BUILDING_JUN_JI_CHU = 6;//军机处
	E_BUILDING_NUO_YI_ZHEN = 7;//挪移阵
	E_BUILDING_ZHU_ZAO_FANG = 8;//铸造房
	E_BUILDING_ZHEN_FA_YAN = 9;//阵法研
	E_BUILDING_END = 10;//结束(比上一个大一)
}

enum E_FRIEND_STATE
{
	E_FRIEND_STATE_OFFLINE = 0;//离线(默认状态)
	E_FRIEND_STATE_ONLINE = 1;//在线
	E_FRIEND_STATE_APPLY = 2;//申请
}


////////////////////////////////////////////////////
//结构体
////////////////////////////////////////////////////
//服务器列表数据
message list_serv_t
{
	optional uint32 id = 1;//服务器ID
	optional string ip = 2;//服务器IP
	optional uint32 port = 3;//服务器端口号
}

//封神台
message fengshentai_event_t
{
	optional uint32 idx = 1;//位置号
	optional uint32 hero_id = 2;//英雄ID
	optional uint32 discount = 3;//折扣
	optional uint32 is_buy = 4;//是否已购买
}

//事件
message shilianchou_event_t
{
	optional uint32 use_cnt = 1;//使用过的次数
	optional uint32 next_time = 2;//下次时间
}

//好友
message friend_t
{
	optional uint32 id = 1;//好友ID
	optional string nick = 2;//好友昵称
	optional common_msg.head_t head = 3;//好友头像
	optional uint32 state = 4;//好友状态 E_FRIEND_STATE 0:离线,1:在线,2:申请
}

//地图数据
message map_t
{
	optional E_MAP_TYPE type = 1;//地图类型
	optional uint32 uid = 2;//玩家ID
	optional uint32 id = 3;//地图ID
	optional float x = 4;//x
	optional float y = 5;//y
	optional float z = 6;//z
}

//幻境阵容
message fairyland_lineup_t
{
	optional uint32 lineup_id = 1;//阵形ID 0:取消阵形
	repeated uint32 hero_soldier_id = 2;//英雄和士兵的ID,一共15个,没有的写0填满
	optional uint32 scenc_id = 3;//战斗场景
}

//英雄阵容
message user_lineup_t
{
	optional uint32 lineup_id = 1;//阵形ID 0:取消阵形
	repeated uint32 hero_soldier_id = 2;//英雄和士兵的ID,一共15个,没有的写0填满
}

//资源阵容
message resource_lineup_t
{
	optional uint32 lineup_id = 1;//阵形ID 0:取消阵形
	repeated uint32 hero_soldier_id = 2;//英雄和士兵的ID,一共15个,没有的写0填满
	optional uint32 scenc_id = 3;//战斗场景ID
}

//私有地图点数据
message private_map_pos_t
{
	optional uint32 pos = 1;//配置表中的位置
	optional uint32 idx = 2;//配置表中的序号[0:无数据]
	optional uint32 owner_uid = 3;//归属的用户ID
	optional uint32 get_resource_time = 4;//获取资源的时间点
//	optional uint32 mark = 5;//是否标记1:标记 0:未标记
	optional resource_lineup_t lineup = 6;//资源阵容
	optional uint32 resource_idx = 7;//资源点有效,资源点对应的资源种类
}

//私有地图数据
message private_map_t
{
	optional uint32 map_id = 1;//地图ID
	repeated private_map_pos_t pos = 2;//点
}

//返回的用户数据
message load_user_t
{
	optional uint32 uid = 1;//用户ID
	optional string nick = 2;//昵称
	optional uint32 last_logout_time = 3;//下线时间
}

//头像
message head_t
{
	optional uint32 face = 1;//脸id
	optional uint32 frame = 2;//框ID
}

message event_t
{
	optional uint32 type = 1;//类型
	optional uint32 id = 2;//ID
	optional uint32 data = 3;//数据
	optional uint32 time = 4;//时间
	optional string str_data = 5;//字符串数据
}

//坐骑
message mount_t
{
	optional uint32 id = 1;//坐骑ID
	optional uint32 state = 2;//坐骑状态[0]
}

//坐骑
message mount_cfg_t
{
	optional uint32 id = 1;//坐骑ID
	optional uint32 att = 2;//攻击
	optional uint32 def = 3;//防御
	optional uint32 hp = 4;//生命值
	optional uint32 bang = 5;//暴击
	optional uint32 hit = 6;//命中
	optional uint32 dodge = 7;//闪避
	optional uint32 speed = 8;//速度
}

//英雄
message hero_t
{
	optional uint32 id = 1;//英雄ID
	optional uint32 exp = 2;//英雄经验
	optional uint32 star_exp = 3;//星
	optional uint32 jingmai = 4;//经脉
	optional uint32 equipment1 = 5;//装备1
	optional uint32 equipment2 = 6;//装备2
	optional uint32 equipment3 = 7;//装备3
	optional uint32 equipment4 = 8;//装备4
	optional uint32 equipment5 = 9;//装备5
	optional uint32 skill_level1 = 10;//技能等级1,大招
	optional uint32 skill_level2 = 11;//技能等级2
	optional uint32 skill_level3 = 12;//技能等级3
}

//英雄战斗力
message hero_power_t
{
	optional uint32 id = 1;//英雄ID
	optional uint32 power = 2;//英雄战斗力
}

//离线角色私有地图信息
message offline_user_private_map_t
{
	optional uint32 uid = 1;//用户ID
	optional string nick = 2;//昵称
	optional uint32 level = 3;//等级
	repeated common_msg.event_t events = 4;//事件信息
	repeated common_msg.hero_t heros = 5;//英雄信息
	repeated common_msg.equipment_t equipments = 6;//装备信息
	optional common_msg.head_t head = 7;//头像信息
	repeated common_msg.mount_t mounts = 8;//坐骑信息
}

//士兵战斗力
message soldier_power_t
{
	optional uint32 id = 1;//士兵id
	optional uint32 power = 2;//士兵战斗力
}

//士兵等级
message soldier_level_t
{
	optional uint32 soldier_id = 1;//士兵id
	optional uint32 soldier_level = 2;//士兵等级
}

//阵形等级
message lineup_level_t
{
	optional uint32 lineup_id = 1;//阵形id
	optional uint32 lineup_level = 2;//阵形等级
}

//离线角色私有地图信息
message cli_offline_user_private_map_t
{
	optional uint32 uid = 1;//用户ID
	optional string nick = 2;//昵称
	optional uint32 level = 3;//等级
	optional uint32 fairyland_open = 4;//幻境是否开启0未开启
	repeated common_msg.private_map_t private_maps = 5;//私有地图信息
	optional common_msg.fairyland_lineup_t fairyland_lineup = 6;//幻境阵形
	repeated common_msg.hero_t heros = 7;//英雄信息
	repeated common_msg.equipment_t equipments = 8;//装备信息
	optional uint32 use_uid = 9;//使用中的用户ID
	optional user_lineup_t user_lineup = 10;//用户阵形
	repeated common_msg.soldier_level_t soldier_level = 11;//士兵等级
	optional common_msg.head_t head = 12;//头像信息
	
	repeated common_msg.hero_power_t heros_power = 13;//英雄战斗力
	repeated common_msg.soldier_power_t soldiers_power = 14;//士兵战斗力
	
	repeated common_msg.lineup_level_t lineups_level = 15;//激活过的阵容等级
	repeated common_msg.mount_t mounts = 16;//坐骑信息
}

//npc商会配置
message npc_sell_conf_t
{
	optional uint32 id = 1;//道具ID
	optional uint32 limit = 2;//每日上限
	optional uint32 price = 3;//基础价格
	optional uint32 preset = 4;//交易基数
}

//npc商会配置
message npc_sell_price_t
{
	optional uint32 id = 1;//道具ID
	optional uint32 price = 2;//价格
}

message npc_sell_buy_cnt_t
{
	optional uint32 id = 1;//道具ID
	optional uint32 cnt = 2;//数量
}



//地图中的玩家数据
message map_user_t
{
	optional uint32 uid = 1;//用户ID
	optional string nick = 2;//昵称
	optional float x = 3;//x
	optional float y = 4;//y
	optional uint32 mount_id = 5;//坐骑ID
	optional float z = 6;//z
}

//任务数据
message task_t
{
	optional uint32 task_id = 1;//任务ID
	optional uint32 data = 2;//数据
}

//道具
message item_t
{
	optional uint32 id = 1;//ID
	optional uint32 bind = 2;//0未绑定1绑定
	optional uint32 cnt = 3;//数量
}

//用户摆摊道具
message user_sell_item_t
{
	optional uint32 idx = 1;
	optional uint32 uid = 2;
	optional uint32 id = 3;
	optional uint32 cnt = 4;
	optional uint32 price = 5;
	optional uint32 open_time = 6;
	optional string random_attribute = 7;
	optional uint32 off_time = 8;
}

//道具
message item_cfg_t
{
	optional uint32 id = 1;//ID
	optional uint32 is_sell = 2;//是否可以在摆摊上交易(0不可以 1可以)
	optional uint32 price = 3;//摆摊交易的初始指导价
	optional uint32 classy = 4;//道具类型
	optional uint32 quality = 5;//道具品质
}

//装备
message equipment_t
{
	optional uint32 idx = 1;//idx
	optional uint32 uid = 2;//玩家id
	optional uint32 id = 3;//装备ID
	optional uint32 bind = 4;//0未绑定1绑定
	optional string random_attribute = 5;//随机属性(1,2;3,4)
	optional uint32 exp = 6;//经验
	optional uint32 hero_id = 7;//装备在哪个英雄身上
}

//邮件购买附件
message mail_buy_attachment_t
{
	optional item_t item = 1;//道具
	optional equipment_t equipment = 2;//装备
}

//邮件
message mail_t
{
	optional uint32 idx = 1;//邮件idx
	optional uint32 uid = 2;//玩家id
	optional uint32 state = 3;//邮件状态(0:未读，1:已读)
	optional uint32 mail_id = 4;//配置表中的mail_id
	optional string attachment = 6;//邮件附件(20003,100;id,cnt)或装备串(',' 分割id,bind,xx,xx;xx,xx)
	optional uint32 time = 7;//邮件到期时间
}

//装备配置属性
message equipment_cfg_t
{
	optional uint32 id = 1;//装备ID
	optional uint32 position = 2;//装备部位
	optional uint32 quality = 3;//品质[1-5 白兰紫橙绿]
	optional uint32 equip_lv = 4;//需求等级
	optional uint32 random_id = 5;//随机属性表id
	optional uint32 bind = 6;//是否绑定
	optional uint32 grow_id = 7;//强化id
	optional uint32 exp = 8;//分解产出经验
	optional uint32 is_sell = 9;//是否可以在摆摊上交易(0不可以 1可以)
	optional uint32 price = 10;//摆摊交易的初始指导价
	
	optional uint32 no_limited = 11;//自由定价词条数
	optional uint32 can_fix = 12;//可以修改价格
	
	optional uint32 classy = 13;//装备类型
	
	optional uint32 attack = 14;//攻击
	optional uint32 defend = 15;//防御
	optional uint32 hp = 16;//生命
	optional uint32 skill_id = 17;//特定属性
	
	optional uint32 break_item = 18;//分解产出道具
	
}

//装备配置属性
message equipment_kind_cfg_t
{
	optional uint32 id = 1;//强化id
	optional uint32 attack = 2;//每级攻击
	optional uint32 defend = 3;//每级物防
	optional uint32 hp = 4;//每级血量
	optional uint32 dodge = 5;//基础闪避
	optional uint32 percision = 6;//基础命中
	optional uint32 parry = 7;//基础格挡
	optional uint32 redeuce_parry = 8;//减少被攻击方格挡效果
	optional uint32 crit_rate = 9;//暴击率
	optional uint32 reduce_crit_damage = 10;//减少暴击伤害比例
	optional uint32 crit_damage = 11;//暴击伤害比例

}

//pve战斗中奖励
message pve_ing_reward_t
{
	optional uint32 major_idx = 1;//rush主ID
	optional uint32 minor_idx = 2;//rush辅ID
	repeated item_t item = 3;//道具
	repeated equipment_t equipment = 4;//装备
}

//奖励
message reward_t
{
	repeated item_t item = 1;//道具
	repeated equipment_t equipment = 2;//装备
	repeated hero_t hero = 3;//英雄
}

//奖励
message building_t
{
	optional uint32 building_id = 1;//建筑id
	optional uint32 building_level = 2;//建筑等级
}

//布阵的结构(客户端用)
message embattle_t
{
	optional uint32 embattle_id = 1;//布阵id
	repeated embattle_pos_t posList = 2;//站位信息
}

//布阵的结构(客户端用)
message embattle_pos_t
{
	optional uint32 index = 1;//布阵位置索引
	optional uint32 id = 2;//位置占用者的id
	optional uint32 type = 3;//位置占用者的类型 0 英雄 1 士兵 2 器械
}